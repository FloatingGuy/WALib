(()=>{var e={9426:e=>{function r(e,r,t,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void t(e)}u.done?r(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function u(e){r(i,o,a,u,s,"next",e)}function s(e){r(i,o,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},925:(e,r,t)=>{var n=t(1176),o=t(2276),a=t(5892),i=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols;r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.prototype,s=void 0===t||t,c=r.unenumerable,l=void 0!==c&&c,p=r.symbol,f=void 0!==p&&p,d=[];if((l||f)&&i){var g=n;l&&i&&(g=i);do{d=d.concat(g(e)),f&&u&&(d=d.concat(u(e)))}while(s&&(e=o(e))&&e!==Object.prototype);d=a(d)}else if(s)for(var v in e)d.push(v);else d=n(e);return d},e.exports=r},7127:(e,r,t)=>{var n=t(9602);r=n((function(e,r,t){return n((function(n){return e.apply(r,t.concat(n))}))})),e.exports=r},8524:(e,r,t)=>{var n=t(3134),o=t(8394);r=function(e,r){if(o(e))return e;if(r&&n(r,e))return[e];var t=[];return e.replace(a,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t};var a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g;e.exports=r},9076:(e,r,t)=>{var n=t(8936),o=t(8394),a=t(617);r=function(e){return n(e)?o(e)?e.slice():a({},e):e},e.exports=r},2930:(e,r,t)=>{var n=t(8044);r=function(){for(var e=n(arguments),r=[],t=0,o=e.length;t<o;t++)r=r.concat(n(e[t]));return r},e.exports=r},9815:(e,r,t)=>{var n=t(9097),o=t(4659),a=t(599),i=t(3734);r=function(e,r){return o(e)?e.indexOf(r)>-1:(a(e)||(e=i(e)),n(e,r)>=0)},e.exports=r},4884:(e,r,t)=>{var n=t(7394),o=t(3857);r=function(e,r){return function(t){return o(arguments,(function(a,i){if(0!==i){var u=e(a);o(u,(function(e){r&&!n(t[e])||(t[e]=a[e])}))}})),t}},e.exports=r},3857:(e,r,t)=>{var n=t(599),o=t(1176),a=t(2990);r=function(e,r,t){var i,u;if(r=a(r,t),n(e))for(i=0,u=e.length;i<u;i++)r(e[i],i,e);else{var s=o(e);for(i=0,u=s.length;i<u;i++)r(e[s[i]],s[i],e)}return e},e.exports=r},7635:(e,r)=>{r=function(e,r){var t=e.length-r.length;return t>=0&&e.indexOf(r,t)===t},e.exports=r},617:(e,r,t)=>{r=t(4884)(t(925)),e.exports=r},7958:(e,r,t)=>{var n=t(1176);r=t(4884)(n),e.exports=r},9848:(e,r,t)=>{var n=t(4780),o=t(3857);r=function(e,r,t){var a=[];return r=n(r,t),o(e,(function(e,t,n){r(e,t,n)&&a.push(e)})),a},e.exports=r},5032:(e,r,t)=>{var n=t(2678),o=t(1403),a=t(7108),i=t(4659);r=function(e){var r,t,s=o(i(e)?e:n(e));a(s,"async")||a(s,"function")||a(s,"(")?(r=s.indexOf("(")+1,t=s.indexOf(")")):(r=0,t=s.indexOf("=>"));var c=s.slice(r,t);return null===(c=c.match(u))?[]:c};var u=/[^\s,]+/g;e.exports=r},2276:(e,r,t)=>{var n=t(8936),o=t(8689),a=Object.getPrototypeOf,i={}.constructor;r=function(e){if(n(e)){if(a)return a(e);var r=e.__proto__;return r||null===r?r:o(e.constructor)?e.constructor.prototype:e instanceof i?i.prototype:void 0}},e.exports=r},3134:(e,r)=>{var t=Object.prototype.hasOwnProperty;r=function(e,r){return t.call(e,r)},e.exports=r},6238:(e,r)=>{r=function(e){return e},e.exports=r},9097:(e,r)=>{r=function(e,r,t){return Array.prototype.indexOf.call(e,r,t)},e.exports=r},8394:(e,r,t)=>{var n=t(744);r=Array.isArray?Array.isArray:function(e){return"[object Array]"===n(e)},e.exports=r},599:(e,r,t)=>{var n=t(1640),o=t(8689),a=Math.pow(2,53)-1;r=function(e){if(!e)return!1;var r=e.length;return n(r)&&r>=0&&r<=a&&!o(e)},e.exports=r},8689:(e,r,t)=>{var n=t(744);r=function(e){var r=n(e);return"[object Function]"===r||"[object GeneratorFunction]"===r||"[object AsyncFunction]"===r},e.exports=r},6174:(e,r,t)=>{var n=t(1176);r=function(e,r){var t=n(r),o=t.length;if(null==e)return!o;e=Object(e);for(var a=0;a<o;a++){var i=t[a];if(r[i]!==e[i]||!(i in e))return!1}return!0},e.exports=r},1811:(e,r)=>{r=function(e){return null==e},e.exports=r},1640:(e,r,t)=>{var n=t(744);r=function(e){return"[object Number]"===n(e)},e.exports=r},8936:(e,r)=>{r=function(e){var r=typeof e;return!!e&&("function"===r||"object"===r)},e.exports=r},4401:(e,r,t)=>{var n=t(8936),o=t(8689);r=function(e){return n(e)&&o(e.then)&&o(e.catch)},e.exports=r},4659:(e,r,t)=>{var n=t(744);r=function(e){return"[object String]"===n(e)},e.exports=r},7394:(e,r)=>{r=function(e){return void 0===e},e.exports=r},1176:(e,r,t)=>{var n=t(3134);r=Object.keys?Object.keys:function(e){var r=[];for(var t in e)n(e,t)&&r.push(t);return r},e.exports=r},7399:(e,r)=>{r=function(e){var r=e?e.length:0;if(r)return e[r-1]},e.exports=r},3243:(e,r)=>{var t=/^\s+/;r=function(e,r){if(null==r)return e.trimLeft?e.trimLeft():e.replace(t,"");for(var n,o,a=0,i=e.length,u=r.length,s=!0;s&&a<i;)for(s=!1,n=-1,o=e.charAt(a);++n<u;)if(o===r[n]){s=!0,a++;break}return a>=i?"":e.substr(a,i)},e.exports=r},9580:(e,r,t)=>{var n=t(4780),o=t(1176),a=t(599);r=function(e,r,t){r=n(r,t);for(var i=!a(e)&&o(e),u=(i||e).length,s=Array(u),c=0;c<u;c++){var l=i?i[c]:c;s[c]=r(e[l],l,e)}return s},e.exports=r},3235:(e,r,t)=>{var n=t(7958),o=t(6174);r=function(e){return e=n({},e),function(r){return o(r,e)}},e.exports=r},3133:(e,r)=>{r=function(){},e.exports=r},8740:(e,r)=>{r=Date.now?Date.now:function(){return(new Date).getTime()},e.exports=r},744:(e,r)=>{var t=Object.prototype.toString;r=function(e){return t.call(e)},e.exports=r},2990:(e,r,t)=>{var n=t(7394);r=function(e,r,t){if(n(r))return e;switch(null==t?3:t){case 1:return function(t){return e.call(r,t)};case 3:return function(t,n,o){return e.call(r,t,n,o)};case 4:return function(t,n,o,a){return e.call(r,t,n,o,a)}}return function(){return e.apply(r,arguments)}},e.exports=r},9565:(e,r,t)=>{var n=t(8394),o=t(4819);r=function(e){return n(e)?function(r){return o(r,e)}:(r=e,function(e){return null==e?void 0:e[r]});var r},e.exports=r},9602:(e,r)=>{r=function(e,r){return r=null==r?e.length-1:+r,function(){var t,n=Math.max(arguments.length-r,0),o=new Array(n);for(t=0;t<n;t++)o[t]=arguments[t+r];switch(r){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var a=new Array(r+1);for(t=0;t<r;t++)a[t]=arguments[t];return a[r]=o,e.apply(this,a)}},e.exports=r},8067:(e,r)=>{r=function(e,r){if(null==r){if(e.trimRight)return e.trimRight();r=" \r\n\t\f\v"}for(var t,n,o=e.length-1,a=r.length,i=!0;i&&o>=0;)for(i=!1,t=-1,n=e.charAt(o);++t<a;)if(n===r[t]){i=!0,o--;break}return o>=0?e.substring(0,o+1):""},e.exports=r},4780:(e,r,t)=>{var n=t(8689),o=t(8936),a=t(8394),i=t(2990),u=t(3235),s=t(6238),c=t(9565);r=function(e,r,t){return null==e?s:n(e)?i(e,r,t):o(e)&&!a(e)?u(e):c(e)},e.exports=r},4819:(e,r,t)=>{var n=t(7394),o=t(8524);r=function(e,r){var t;for(t=(r=o(r,e)).shift();!n(t);){if(null==(e=e[t]))return;t=r.shift()}return e},e.exports=r},3024:(e,r)=>{r=function(e){return new Promise((function(r){return setTimeout(r,e)}))},e.exports=r},7108:(e,r)=>{r=function(e,r){return 0===e.indexOf(r)},e.exports=r},1403:(e,r)=>{r=function(e){for(var r={singleQuote:!1,doubleQuote:!1,regex:!1,blockComment:!1,lineComment:!1,condComp:!1},t=0,n=(e=("__"+e+"__").split("")).length;t<n;t++)if(r.regex)"/"===e[t]&&"\\"!==e[t-1]&&(r.regex=!1);else if(r.singleQuote)"'"===e[t]&&"\\"!==e[t-1]&&(r.singleQuote=!1);else if(r.doubleQuote)'"'===e[t]&&"\\"!==e[t-1]&&(r.doubleQuote=!1);else if(r.blockComment)"*"===e[t]&&"/"===e[t+1]&&(e[t+1]="",r.blockComment=!1),e[t]="";else if(r.lineComment)"\n"===e[t+1]&&(r.lineComment=!1),e[t]="";else if(r.doubleQuote='"'===e[t],r.singleQuote="'"===e[t],"/"===e[t]){if("*"===e[t+1]){e[t]="",r.blockComment=!0;continue}if("/"===e[t+1]){e[t]="",r.lineComment=!0;continue}r.regex=!0}return e.join("").slice(2,-2)},e.exports=r},8044:(e,r,t)=>{var n=t(599),o=t(9580),a=t(8394),i=t(4659);r=function(e){return e?a(e)?e:n(e)&&!i(e)?o(e):[e]:[]},e.exports=r},2678:(e,r,t)=>{var n=t(1811);r=function(e){if(n(e))return"";try{return o.call(e)}catch(e){}try{return e+""}catch(e){}return""};var o=Function.prototype.toString;e.exports=r},7304:(e,r,t)=>{var n=t(3243),o=t(8067);r=function(e,r){return null==r&&e.trim?e.trim():n(o(e,r),r)},e.exports=r},5892:(e,r,t)=>{var n=t(9848);function o(e,r){return e===r}r=function(e,r){return r=r||o,n(e,(function(e,t,n){for(var o=n.length;++t<o;)if(r(e,n[t]))return!1;return!0}))},e.exports=r},3734:(e,r,t)=>{var n=t(3857);r=function(e){var r=[];return n(e,(function(e){r.push(e)})),r},e.exports=r},7339:(e,r,t)=>{var n=t(8740);r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;function o(){return new Promise((function(r,t){try{r(e())}catch(e){t(e)}}))}return new Promise((function(e,a){var i=n(),u=function(){o().then((function(o){var s=n()-i;o?e(o):r&&s>=r?a(Error("Wait timed out after ".concat(r," ms"))):setTimeout(u,t)}),a)};u()}))},e.exports=r}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=t(9426),r=t.n(e),n=t(7108),o=t.n(n),a=t(7635),i=t.n(a),u=t(9815),s=t.n(u),c=t(5032),l=t.n(c),p=t.g.Function,f=Object.getPrototypeOf(r()((function*(){}))).constructor;function d(e){return!o()(e,"on")&&!o()(e,"off")}function g(e){return i()(e,"Sync")||s()(v,e)}var v=["stopRecord","getRecorderManager","pauseVoice","stopVoice","pauseBackgroundAudio","stopBackgroundAudio","getBackgroundAudioManager","createAudioContext","createInnerAudioContext","createVideoContext","createCameraContext","createMapContext","canIUse","startAccelerometer","stopAccelerometer","startCompass","stopCompass","hideToast","hideLoading","showNavigationBarLoading","hideNavigationBarLoading","navigateBack","createAnimation","pageScrollTo","createSelectorQuery","createCanvasContext","createContext","drawCanvas","hideKeyboard","stopPullDownRefresh","arrayBufferToBase64","base64ToArrayBuffer"];function h(e){var r=l()(e);return"}"!==e[e.length-1]?r.push("return "+e.slice(e.indexOf("=>")+2)):r.push(e.slice(e.indexOf("{")+1,e.lastIndexOf("}"))),r}function _(){return t.g.__isAppServiceRemoteDebugMode__&&t.g.$$autoDebug}function y(e,r,n){return t.g.$$autoDebug.$eval("("+e+")",r,n)}function x(e,r,t){return m.apply(this,arguments)}function m(){return(m=r()((function*(e,r,n){return yield t.g.$$autoDebug.$eval("("+e+")",r,n)}))).apply(this,arguments)}function b(e,r){return w.apply(this,arguments)}function w(){return w=r()((function*(e,r,t=null){var n,a=h(e);return o()(e,"async")?_()?yield x(e,r,t):(n=f.apply(null,a),yield n.apply(t,r)):_()?y(e,r,t):(n=p.apply(null,a)).apply(t,r)})),w.apply(this,arguments)}function $(e,r,t=null){var n=h(e);return _()?y(e,r,t):p.apply(null,n).apply(t,r)}var O=t(7399),P=t.n(O),S=t(7394),M=t.n(S),A=t(8689),k=t.n(A),E=t(7304),I=t.n(E),D=t(8044),j=t.n(D),C=t(2930),T=t.n(C),B=t(7127),N=t.n(B),R=t(9076),W=t.n(R),F=t(7339),J=t.n(F),L=t.g.WeixinJSBridge,q=!1,U=[];function V(){q=!0;for(var e=0,r=U.length;e<r;e++)U[e]();U=[]}t.g.__wxConfig.clientDebug=!0;var G=Object.getOwnPropertyDescriptor(t.g,"WeixinJSBridge");L&&L.on?V():G&&!1===G.configurable?J()((()=>t.g.WeixinJSBridge&&t.g.WeixinJSBridge.on),5e3,50).then((()=>{L=t.g.WeixinJSBridge,V()})):Object.defineProperty(t.g,"WeixinJSBridge",{set(e){e&&e.on&&(L=e,V())},get:()=>L,configurable:!0});const Q={on:(...e)=>L.on(...e),publish:(...e)=>L.publish(...e),invoke(...e){var r;t.g.__isAppServiceRemoteDebugMode__&&"sendAutoMessage"===e[0]&&(null===(r=t.g.__debugMessager)||void 0===r||r.sendToDevtools(e[0],e[1]));return L.invoke(...e)},subscribe:(...e)=>L.subscribe(...e),onReady(e){q?e():U.push(e)}};var z=t(3857),H=t.n(z),K=t(3133),X=t.n(K),Y={},Z=[],ee=!1,re=t.g.__passWAServiceGlobal__||X();function te(e){ee?e(Y):Z.push(e)}t.g.__passWAServiceGlobal__=function(e){H()(e,((e,r)=>{ee=!0,"Protect"!==r&&(Y[r]=e)})),ee&&(Z.forEach((e=>{e(Y)})),Z=[]),re(e)};var ne,oe,ae="https://servicewechat.com/",ie=`${ae}wxa-dev-logic/jslogin`,ue=`${ae}wxa-dev-logic/jsrefresh_session`,se=`${ae}wxa-dev-logic/jsoperatewxdata`,ce=`${ae}wxa-dev-logic/jsauthorize`,le=`${ae}wxa-dev-logic/jsauthorize-confirm`,pe=`${ae}wxa-dev-logic/jsgetuserwxphone`,fe=`${ae}wxa-dev-logic/checkwerunstate`,de=`${ae}wxa-dev-logic/getuserfillinfo`,ge=`${ae}wxa-dev-logic/deleteuserfillinfo`,ve=`${ae}wxa-dev-logic/authuserfillinfo`,he=-12e3,_e=-12007,ye=t.g.__wxConfig,xe={};te((e=>{var r;xe=(null==ye||null===(r=ye.debugLaunchInfo)||void 0===r?void 0:r.autoTest)||{},console.log("autoTestInfo..",xe),ne=e.__appServiceSDK__._requestSkipCheckDomain,oe=xe.appid}));var me=e=>{var{success:r,fail:t,complete:n}=e,o=(e.url||"").split("?")[0],a=[`newticket=${xe.newticket}`,`appid=${xe.appid}`,`clientversion=${xe.clientversion}`];return xe.testuser&&a.push(`testuser=${xe.testuser}`),e.url=`${o}?${a.join("&")}`,r||t||n?ne(e):new Promise(((r,t)=>{ne({...e,success:r,fail:t})}))},be=()=>oe;function we(e,r,t,n,o){me({url:`${le}`,method:"POST",data:{scope:t,opt:r?1:2},success:t=>{var a=t.data,i="fail request error";return a.baseresponse&&0===a.baseresponse.errcode&&(i=r?"ok":"fail auth deny"),n({errMsg:`${e}:${i}`,...o})}})}function $e(e,r,t){return me({url:`${ie}`,method:"POST",data:{scope:["snsapi_base"]},success:r=>{var n=r.data;t({errMsg:`${e}:ok`,code:n.code})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function Oe(e,r,t){return me({url:`${ue}`,method:"POST",data:{scope:["snsapi_base"]},success:r=>{var n=r.data;t({errMsg:`${e}:ok`,expireIn:n.session_expire_in,err_code:n.baseresponse.errcode})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function Pe(e,r,t,n){var o=n.scopeList;return me({url:`${se}`,method:"POST",data:{data:JSON.stringify(r.data||{}),grant_scope:o[0].scope,opt:1},success:r=>{var n=r.data;return t({errMsg:`${e}:ok`,data:JSON.parse(n.data)})}})}function Se(e,r,t){return Me.apply(this,arguments)}function Me(){return(Me=r()((function*(e,r,t){var n={data:JSON.stringify(r.data||{})};return"webapi_plugin_setauth"===r.data.api_name&&(n.ext_info={source_env:2}),me({url:`${se}`,method:"POST",data:n,success:n=>{var o=n.data,a=o.baseresponse;if(a){var i=o.baseresponse.errcode;if(0===i){var u=JSON.parse(o.data);return t({errMsg:`${e}:ok`,data:u})}return i===he?Pe(e,r,t,{imageUrl:o.appicon_url,appName:o.appname,scopeList:[o.scope]}):t(i===_e?{errMsg:`${e}:fail ${a.errmsg}`}:{errMsg:`${e}:fail ${a.errmsg}`,err_code:i})}t({errMsg:`${e}:fail no baseresponse`})},fail:()=>{t({errMsg:`${e}:fail response fail`})}})}))).apply(this,arguments)}function Ae(e,r,t){return me({url:`${ce}`,method:"POST",data:{scope:r.scope||[]},success:r=>{var n=r.data,o=n.baseresponse;if(o){var a=o.errcode;if(0===a)return t({errMsg:`${e}:ok`,body:n});if(a===he){var i=n.scope_list||[],u=[];return i.forEach((e=>{u.push(e.scope)})),we(e,!0,i,t)}}},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}function ke(e,r,t){return me({url:`${fe}`,method:"POST",data:{appid:be()},success:r=>{var n=r.data;if(1===n.state)return t({errMsg:`${e}:ok`});var o=n.wording||"USER_NOT_OPEN_WECHAT_MOVEMENT";return t({errMsg:`${e}:fail ${o}`})},fail:()=>{t({errMsg:`${e}:fail request fail`})}})}var Ee,Ie,De={login:$e,refreshSession:Oe,operateWXData:Se,authorize:Ae,openWeRunSetting:ke,getPhoneNumber:function(e,t,n){var o;me({url:`${pe}`,method:"POST",data:{appid:be()},success:(o=r()((function*(r){var t=r.data;console.log("getPhoneNumber",t);var o=t.jsapi_baseresponse,a=o?parseInt(o.errcode,10):-1e4;try{if(0===a){var i,u={};try{u=JSON.parse(t.data),i=JSON.parse(u.data)}catch(e){throw new Error(`GET_DATA_ERROR ${e}`)}if(!i||!i.mobile)throw new Error("USER_NOT_BOUND_PHONE");if(i.need_auth)throw new Error("PHONE_BOUND_NEED_VERIFIED");var s=[t.scope],c=[];return s.forEach((e=>{c.push(e.scope)})),we(e,!0,s,n,u)}throw-12001===a?new Error("APPID_NO_PERMISSIONS"):-12004===a?new Error("WX_LOGIN_FIRST"):new Error(`SYSTEM_ERROR errorCode:${a}`)}catch(r){return n({errMsg:`${e}:fail ${r}`})}})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},getUserAutoFillData:function(e,t,n){var o,a={appid:be(),get_all_info:!1,source:1,user_info_list:t.fields,client_version:t.clientVersion};me({url:`${de}`,method:"POST",data:a,success:(o=r()((function*(r){var t=r.data;n({errMsg:`${e}:ok`,userData:t.user_info_json||"{}",authStatus:t.auth_status,authInfo:t.auth_info,authGroupList:t.auth_group_list})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},setUserAutoFillData:function(e,t,n){var o,a={appid:be(),source:1,user_info_json:t.dataList,client_version:t.clientVersion};me({url:`${de}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},deleteUserAutoFillData:function(e,t,n){var o,a={appid:be(),source:1,group_key:t.groupKey,group_id:t.groupId,client_version:t.clientVersion};me({url:`${ge}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},requestAuthUserAutoFillData:function(e,t,n){var o,a={appid:be(),source:1,auth_info_list:t.fields||[],auth_status:t.authStatus,user_confirm:!0,client_version:t.clientVersion};me({url:`${ve}`,method:"POST",data:a,success:(o=r()((function*(r){r.data,n({errMsg:`${e}:ok`})})),function(e){return o.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})}};function je(){return(je=r()((function*(e){var{functionDeclaration:r,args:t}=e;return{result:yield b(r,t)}}))).apply(this,arguments)}function Ce(){return(Ce=r()((function*(){return P()((yield Te()).pageStack)}))).apply(this,arguments)}function Te(){return Be.apply(this,arguments)}function Be(){return(Be=r()((function*(){return{pageStack:Ee.getCurrentPagesByDomain().map((e=>{var{route:r}=e,t=r.indexOf("__plugin__/");return t>-1&&(r="plugin-private://"+r.slice(t+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options}}))}}))).apply(this,arguments)}var Ne={},Re={},We={},Fe={};function Je(e,r=""){return r?`${r}_${e}`:e}function Le(e=""){if(e){if(!Ne[e])throw Error(`Plugin ${e} not exists`);return Ne[e].wx}return"undefined"==typeof wx?Ie:wx}function qe(){return qe=r()((function*(e){var{method:t,result:n,pluginId:o}=e,{functionDeclaration:a,args:i}=e,u=Le(o);if(!u[t])throw Error(`wx.${t} not exists`);if(!d(t))throw Error(`You can't mock wx.${t}`);if(M()(n)&&M()(a))Ve(t,o);else{var s;M()(n)||(a="function () {\n      return arguments[arguments.length - 1];\n    }",i=[n]);var c={origin:N()(Ue(t,o),u)};s=g(t)?function(){return $(a,T()(j()(arguments),i),c)}:function(){var e=r()((function*(...e){var n=!1,o=e[0];if((M()(o)||M()(o.success)&&M()(o.fail)&&M()(o.complete))&&(n=!0),n)return i=T()(e,i),new Promise(function(){var e=r()((function*(e,r){var n=yield b(a,i,c);(n.errMsg||`${t}:ok`).indexOf(`${t}:ok`)>-1?e(n):r(n)}));return function(r,t){return e.apply(this,arguments)}}());var u=W()(o);delete u.success,delete u.fail,delete u.complete;var s=yield b(a,T()([u],i),c);(s.errMsg||`${t}:ok`).indexOf(`${t}:ok`)>-1?o.success&&o.success(s):o.fail&&o.fail(s),o.complete&&o.complete(s)}));return function(){return e.apply(this,arguments)}}(),Ge(t,s,o)}})),qe.apply(this,arguments)}function Ue(e,r){var t=Le(r),n=Je(e,r);if(Re[n])return We[n]?Re[n]():Re[n];var o=Object.getOwnPropertyDescriptor(t,e);return o&&o.get?o.get():t[e]}function Ve(e,r){var t=Le(r),n=Je(e,r);Re[n]&&(Object.getOwnPropertyDescriptor(t,e)?We[n]?Object.defineProperty(t,e,{get:Re[n]}):Object.defineProperty(t,e,{value:Re[n]}):t[e]=Re[n],delete Re[n])}function Ge(e,r,t){var n=Le(t),o=Je(e,t),a=Object.getOwnPropertyDescriptor(n,e);if(!Re[o]){var i,u=!1,s=!1;a?a.get?(u=!0,i=a.get):(s=!0,i=a.value):i=n[e],i&&(Fe[o]=s,We[o]=u,Re[o]=i)}a?Object.defineProperty(n,e,{get:()=>r}):n[e]=r}var Qe=["log","info","warn","error","debug"];function ze(){return(ze=r()((function*(){Qe.forEach((e=>{var r=console[e];console[e]=function(...t){Q.invoke("sendAutoMessage",{method:"App.logAdded",params:{type:e,args:t}}),k()(r)&&r.apply(console,t)}}))}))).apply(this,arguments)}function He(){return(He=r()((function*(e){var r,{name:n}=e,o=function(...e){Q.invoke("sendAutoMessage",{method:"App.bindingCalled",params:{name:n,args:e}})};t.g.__isAppServiceRemoteDebugMode__&&t.g.$$autoDebug?null===(r=t.g.$$autoDebug)||void 0===r||r.setSubContextGlobalFunctions(n,o):t.g[n]=o}))).apply(this,arguments)}function Ke(){return(Ke=r()((function*(){Q.invoke("exitMiniProgram",{})}))).apply(this,arguments)}function Xe(){return Xe=r()((function*(){return new Promise(((e,t)=>{function n(){t(Error("fail to capture screenshot"))}Q.invoke("private_captureScreen",{},function(){var t=r()((function*(r){var{errMsg:t}=r;if(s()(t,":ok")){var{tempFilePath:o}=r;Ue("saveFile")({tempFilePath:o,success(r){var t=Ue("getFileSystemManager")(),o=r.savedFilePath;t.readFile({filePath:o,encoding:"base64",success(r){Ue("removeSavedFile")({filePath:o}),e({data:r.data})},fail(){n()}})},fail(){n()}})}else n()}));return function(e){return t.apply(this,arguments)}}())}))})),Xe.apply(this,arguments)}var Ye=t.g.__wxConfig;te((e=>{var r,t,n;Ee=e.__appServiceEngine__,Ie=e.wx;var o=null===(r=Ee)||void 0===r||null===(t=r.__getCreatePluginGlobal)||void 0===t?void 0:t.call(r),a=Ee.__setCreatePluginGlobal;if(null==a||a(((e,r)=>{var t=null==o?void 0:o(e,r);return Ne[e]=t,t})),e.Reporter.registerErrorListener((e=>{var r=e.split("\n");"MiniProgramError"===I()(r[0])&&(e=r[2],e=I()(e.replace(/^((Type)|(Range)|(Reference)|(Syntax))?Error:/,"")),Q.invoke("sendAutoMessage",{method:"App.exceptionThrown",params:{message:e,stack:r.slice(2).join("\n")}}))})),null!=Ye&&null!==(n=Ye.debugLaunchInfo)&&void 0!==n&&n.autoTest){var i=e.WeixinJSBridge.invoke;Object.defineProperty(e.WeixinJSBridge,"invoke",{value(...r){var[t,n,o,a]=r;return De[t]?De[t](t,n,o):i.apply(e.WeixinJSBridge,r)}}),e.WeixinJSBridge.subscribe("callAutoInvoke",(r=>{var{name:t,args:n,callbackId:o}=r;if(De[t])return De[t](t,n,(r=>{e.WeixinJSBridge.publish("callbackAutoInvoke",{callbackId:o,res:r})}))}))}}));var Ze,er,rr,tr=t(4401),nr=t.n(tr),or=t(4819),ar=t.n(or);function ir(e){var r=Ze.getCurrentPagesByDomain();for(var t of r)if(t.__wxWebviewId__===e)return t;throw Error("page destroyed")}te((e=>{Ze=e.__appServiceEngine__})),te((e=>{er=e.exparser,rr=e.__virtualDOM__}));const ur={"App.callWxMethod":function(e){var{method:r,pluginId:t}=e,n=Le(t),{args:o}=e;return new Promise(((e,t)=>{if(!n[r])return t(Error(`wx.${r} not exists`));g(r)?e({result:n[r].apply(n,o)}):(o=o[0]||{},n[r]({...o,success(r){e({result:r})},fail(e){t(Error(e.errMsg.replace(`${r}:fail `,"")))}}))}))},"App.callFunction":function(e){return je.apply(this,arguments)},"App.getCurrentPage":function(){return Ce.apply(this,arguments)},"App.getPageStack":Te,"App.mockWxMethod":function(e){return qe.apply(this,arguments)},"App.enableLog":function(){return ze.apply(this,arguments)},"App.addBinding":function(e){return He.apply(this,arguments)},"App.exit":function(){return Ke.apply(this,arguments)},"App.captureScreenshot":function(){return Xe.apply(this,arguments)},"Page.setData":function(e){var{pageId:r,data:t}=e,n=ir(r);return new Promise((e=>{n.setData(t,(()=>{e()}))}))},"Page.getData":function(e){var{pageId:r,path:t}=e,n=ir(r),o=Object.assign({},n.data);return delete o.__webviewId__,t&&(o=ar()(o,t)),{data:o}},"Page.callMethod":function(e){var{method:r,args:t}=e,n=ir(e.pageId);return new Promise(((e,o)=>{if(!n[r])return o(Error(`page.${r} not exists`));var a=n[r].apply(n,t);nr()(a)?a.then((r=>{e({result:r})}),o):e({result:a})}))},"Element.callMethod":function(e){var{nodeId:r,method:t,args:n,pageId:o}=e,a=rr.getNodeById(r,o);if(a)return new Promise(((e,r)=>{var o=er.Element.getMethodCaller(a);if(!o[t])return r(Error(`component.${t} not exists`));var i=er.safeCallback("Event Handler",o[t],o,n,a);nr()(i)?i.then((r=>{e({result:r})}),r):e({result:i})}))},"Element.getData":function(e){var{nodeId:r,pageId:t,path:n}=e,o=rr.getNodeById(r,t).data;return n&&(o=ar()(o,n)),{data:o}},"Element.setData":function(e){var{nodeId:r,pageId:t,data:n}=e;rr.getNodeById(r,t).setData(n)},"Element.callContextMethod":function(e){var r,t,{nodeId:n,videoId:o,pageId:a,method:i,args:u}=e;if(r=n?rr.getNodeById(n,a):ir(a),!o)throw Error("id is not provided");return{result:(t=Ue("createVideoContext")(o,r))[i].apply(t,u)}}};var sr=t(3024),cr=t.n(sr);function lr(){return(lr=r()((function*(e,r){if(ur[e])return(yield ur[e](r))||{};throw Error(`appservice ${e} unimplemented`)}))).apply(this,arguments)}Q.onReady(r()((function*(){Q.on("onAutoMessageReceive",function(){var e=r()((function*(e){var{method:r,params:t,id:n}=e,o={id:n};if(M()(t.pageId)||ur[r])try{o.result=yield function(e,r){return lr.apply(this,arguments)}(r,t)}catch(e){o.error={message:e.message}}else try{return ir(t.pageId),void Q.publish("sendAutoMessage",e,[t.pageId])}catch(e){o.error={message:e.message}}Q.invoke("sendAutoMessage",o)}));return function(r){return e.apply(this,arguments)}}()),Q.subscribe("sendAutoMessage",(e=>{Q.invoke("sendAutoMessage",e)})),yield J()((()=>t.g.getCurrentPages&&t.g.getCurrentPages().length>0),0,50),yield cr()(1e3),Q.invoke("sendAutoMessage",{method:"App.initialized",params:{from:t.g.__isAppServiceRemoteDebugMode__?"appservice":"devtools"}})})))})()})();